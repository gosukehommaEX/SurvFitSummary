% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fitting_surv_mod_multiple.R
\name{fitting_surv_mod_multiple}
\alias{fitting_surv_mod_multiple}
\title{Fit Multiple Parametric Survival Models with Time Scale Conversion}
\usage{
fitting_surv_mod_multiple(
  dataset,
  distribution,
  dependent = c(TRUE, FALSE),
  control_arm = NULL,
  time_scale = "month",
  time_horizon = NULL
)
}
\arguments{
\item{dataset}{A data frame containing survival analysis data with columns:
ARM (treatment arm), SURVTIME (survival time), EVENT (event indicator)}

\item{distribution}{Character vector specifying parametric distributions.
Must be a subset of: "exp", "weibull", "lnorm", "llogis", "gompertz", "gengamma", "gamma"}

\item{dependent}{Logical vector or character string. If c(TRUE, FALSE) or "both",
fits both dependent and independent models. If single logical value (TRUE or FALSE),
fits only that model type. Default is c(TRUE, FALSE)}

\item{control_arm}{Character string specifying which ARM level should be used as
the reference (control) group. If NULL (default), uses the first factor level}

\item{time_scale}{Character string specifying time scale of input data.
Must be one of: "day", "week", "month", "year". Default is "month".
Data is assumed to be in this unit and will be converted to weeks for analysis}

\item{time_horizon}{Numeric value specifying the time horizon (in original time_scale units)
for landmark survival probabilities and RMST calculation. If NULL (default),
uses maximum observed survival time. Automatically converted to weeks}
}
\value{
A list containing seven data frames:
\describe{
\item{coef_estimates}{Parameter estimates with distribution and model type}
\item{varcovmat}{Variance-covariance matrices in long format}
\item{cholesky}{Cholesky decompositions in long format}
\item{gof_statistics}{Goodness-of-fit statistics (AIC, BIC)}
\item{landmark_survival}{Landmark survival probabilities at 4-week intervals}
\item{survival_metrics}{Median, mean, and restricted mean survival times (in weeks)}
\item{cox_ph_results}{Cox proportional hazards model results with HR and 95\% CI}
}
}
\description{
This function fits multiple parametric survival models to time-to-event data
using various distributions. It supports both dependent and independent models
simultaneously, converts time scales, and automatically generates landmark
survival probabilities at 4-week intervals. Cox PH model is always fitted
regardless of dependent parameter value.
}
\details{
Time scale conversion: Data is assumed to be in the specified time_scale units.
All analysis is performed in weeks (4-week landmark intervals). Landmark survival
probabilities are automatically generated at 4-week intervals up to time_horizon.

Cox PH model is always fitted and returned, regardless of the dependent parameter.
This allows comparison of parametric and semi-parametric estimates of treatment effect.
}
\examples{
\dontrun{
dataset <- generate_dummy_survival_data(
  arm = c("Treatment", "Control"),
  n = c(100, 100),
  hazards = log(2) / c(20, 15),
  dropout_per_year = 0.1,
  seed = 123
)

dataset_processed <- processing_dataset(
  dataset = dataset,
  column_arm = "ARM",
  column_survtime = "SURVTIME",
  column_cnsr = "CNSR",
  column_event = NULL
)

results <- fitting_surv_mod_multiple(
  dataset = dataset_processed,
  distribution = c("exp", "weibull", "gompertz"),
  dependent = "both",
  time_scale = "month",
  time_horizon = 60
)

print(results$cox_ph_results)
}
}
